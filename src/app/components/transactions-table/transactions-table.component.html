<div class="shadow-md sm:rounded-lg overflow-x-auto">
  <table
    class="items-center justify-center min-h-[450px] relative w-full text-sm text-left text-gray-500"
  >
    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
      <tr>
        <th
          colspan="4"
          class="text-center py-3 px-6 border-gray-400 border-opacity-50 rounded-xl"
        >
          Transação
        </th>
        <th colspan="3" class="text-center py-3 px-6">Recebível</th>
      </tr>
      <tr>
        <th scope="col" class="py-3 px-6 relative">
          <p>Nome</p>
          <button
            class="flex flex-col absolute right-0 top-0 justify-center h-full"
            (click)="changeSort('nomePortadorCartao')"
          >
            <ng-icon
              name="MatArrowDropDown"
              class="rotate-180 transform"
              size="16"
              *ngIf="shouldRenderArrow('nomePortadorCartao', 'asc')"
            ></ng-icon>
            <ng-icon
              name="MatArrowDropDown"
              size="16"
              *ngIf="shouldRenderArrow('nomePortadorCartao', 'desc')"
            ></ng-icon>
          </button>
        </th>
        <th scope="col" class="py-3 px-6">Número do cartão</th>
        <th scope="col" class="py-3 px-6 relative">
          <p>Valor</p>
          <button
            class="flex flex-col absolute right-0 top-0 justify-center h-full"
            (click)="changeSort('valor')"
          >
            <ng-icon
              name="MatArrowDropDown"
              class="rotate-180 transform"
              size="16"
              *ngIf="shouldRenderArrow('valor', 'asc')"
            ></ng-icon>
            <ng-icon
              name="MatArrowDropDown"
              size="16"
              *ngIf="shouldRenderArrow('valor', 'desc')"
            ></ng-icon>
          </button>
        </th>
        <th scope="col" class="py-3 px-6">Descrição</th>
        <th scope="col" class="py-3 px-6">Status</th>
        <th scope="col" class="py-3 px-6 relative">
          <p>Data do pagamento</p>
          <button
            class="flex flex-col absolute right-0 top-0 justify-center h-full"
            (click)="changeSort('dataPagamentoRecebivel')"
          >
            <ng-icon
              name="MatArrowDropDown"
              class="rotate-180 transform"
              size="16"
              *ngIf="shouldRenderArrow('dataPagamentoRecebivel', 'asc')"
            ></ng-icon>
            <ng-icon
              name="MatArrowDropDown"
              size="16"
              *ngIf="shouldRenderArrow('dataPagamentoRecebivel', 'desc')"
            ></ng-icon>
          </button>
        </th>
        <th scope="col" class="py-3 px-6 relative">
          <p>Valor liquidado</p>
          <button
            class="flex flex-col absolute right-0 top-0 justify-center h-full"
            (click)="changeSort('valorRecebivel')"
          >
            <ng-icon
              name="MatArrowDropDown"
              class="rotate-180 transform"
              size="16"
              *ngIf="shouldRenderArrow('valorRecebivel', 'asc')"
            ></ng-icon>
            <ng-icon
              name="MatArrowDropDown"
              size="16"
              *ngIf="shouldRenderArrow('valorRecebivel', 'desc')"
            ></ng-icon>
          </button>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let transaction of transactions" class="bg-white border-b">
        <td class="py-4 px-6">{{ transaction.nomePortadorCartao }}</td>
        <td class="py-4 px-6">
          {{ "****" + transaction.numeroCartao.slice(-4) }}
        </td>
        <td class="py-4 px-6">
          {{ transaction.valor / 100 | currency : "R$" }}
        </td>
        <td class="py-4 px-6">
          {{ transaction.descricao }}
        </td>
        <td class="py-4 px-6">
          {{ transaction.possuiRecebivel ? transaction.statusRecebivel : "" }}
        </td>
        <td class="py-4 px-6">
          {{
            transaction.possuiRecebivel
              ? (transaction.dataPagamentoRecebivel * 1000 | date : "shortDate")
              : ""
          }}
        </td>
        <td class="py-4 px-6">
          {{
            transaction.possuiRecebivel
              ? (transaction.valorRecebivel / 100 | currency : "R$")
              : ""
          }}
        </td>
      </tr>
    </tbody>
  </table>
</div>
